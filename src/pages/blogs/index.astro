---
import { getCollection } from "astro:content";
import PostItem from "../../components/PostItem.astro";
import BaseLayout from '../../layouts/BaseLayout.astro';
const pageInfo = {
	title:"Blog"
}
// get all posts
const allPosts = await getCollection("posts");

// filter posts
const filterPosts = await getCollection("posts", (post)=>{return post.data.author !== "Astro"});
---
<BaseLayout pageInfo={pageInfo}>
<h1>Blog</h1>
<div class="grid grid-cols-4 gap-8">
  <div class="col-span-1">
    <ul class="menu bg-base-200 rounded-box ">
      <li><a>Item 1</a></li>
      <li>
        <details open>
          <summary>Parent</summary>
          <ul>
            <li><a>Submenu 1</a></li>
            <li><a>Submenu 2</a></li>
            <li>
              <details open>
                <summary>Parent</summary>
                <ul>
                  <li><a>Submenu 1</a></li>
                  <li><a>Submenu 2</a></li>
                </ul>
              </details>
            </li>
          </ul>
        </details>
      </li>
      <li><a>Item 3</a></li>
    </ul>
  </div>
    <ul class="col-span-3">
      {allPosts.map((allPosts) => <PostItem url={allPosts.slug} post={allPosts}/>)}
    </ul>
  </div>
  
</BaseLayout>